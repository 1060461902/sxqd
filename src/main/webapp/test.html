<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8" />
<title>MODEL PAGE</title>
<script src="js/jquery-2.1.0.min.js"></script>
<style type="text/css">
table {
    border: 1px solid black;
    border-collapse: collapse;
}

td,th {
    border: 1px solid black;
}
</style>
<script type="text/javascript">
function dolistpage(pagerow,pagenum,rowcount,pagecount){
 $("#pagemsg").html("每页显示"+pagerow+"条，当前" + pagenum + "/" +pagecount + "页 共" +rowcount + "条");
 if (pagenum == 1) {
  $("#fpbtn").attr("disabled", true);
  $("#rpbtn").attr("disabled", true);
 }else {
  $("#fpbtn").removeAttr("disabled");
  $("#rpbtn").removeAttr("disabled");
 }
 if (pagenum == pagecount) {
  $("#npbtn").attr("disabled", true);
  $("#lpbtn").attr("disabled", true);
 }else {
  $("#npbtn").removeAttr("disabled");
  $("#lpbtn").removeAttr("disabled");
 }
 $("#fpbtn").click(function(){
  loadtpage(1);
 });
 $("#rpbtn").click(function(){
  loadtpage(pagenum - 1);
 });
 $("#npbtn").click(function(){
  if ((pagenum + 1) >= pagecount) 
   loadtpage(pagecount);
  else
   loadtpage(pagenum + 1);
 });
 $("#lpbtn").click(function(){
  loadtpage(pagecount);
 });
 $("#gpbtn").click(function(){
  var tzys = $("#gpinput").val();
  var re = /^[1-9]+[0-9]*$/;
  if (tzys == null || tzys == undefined || tzys == '') {
   alert("请输入跳转页数!");
   $("#gpinput").focus();
   return;
  }
  if (!re.test(tzys)) {
   alert("请输入正确跳转页数!");
   $("#gpinput").focus();
   return;
  }
  if (tzys > pagecount) 
   tzys = pagecount;
  if (tzys <= 0) 
   tzys = 1;
  loadtpage(tzys);
 });
 $("#gpinput").val(pagenum);
}
</script>
</head>
<body>
<table>
 <tfoot>
  <tr>
   <td colspan="11">
    <span class="water-table-listbtn"></span>
    <span class="water-table-page">
     <span id="pagemsg" class="water-table-pagemsg">当前0/0页</span>
     <input type="button" id="fpbtn" value="首页"/>
     <input type="button" id="rpbtn" value="上页"/>
     <input type="button" id="npbtn" value="下页"/>
     <input type="button" id="lpbtn" value="尾页"/>
     <span id="pagemsg" class="water-table-pagemsg">跳转
     <input type="text" id="gpinput" size="3" value="0"/>页
     </span>
     <input type="button" id="gpbtn" value="跳转"/>
    </span>
   </td>
  </tr>
 </tfoot>
</table>
</body>
<script type="text/javascript">
  $.ajax({
            dataType: "json",
            type: "get",
            url: "../controller/productlist.php",
            success: function(data) {
                        if(data.code == 200){
                           //$des = $("#sample-table-2>tbody");
                            var datas = data.data;
                            if(jQuery.isEmptyObject(datas) || datas.length == 0){
                                alert("暂无数据");
                            }
                            for(var i=0;i<datas.length;i++){
                                var tr = "<tr>";
                                tr += '<td class="center"><label><input type="checkbox" class="ace" /><span class="lbl"></span></label></td>';
                                tr += '<td class="center" id="hotelName">'+datas[i].productName+'</td>';
                                tr += '<td class="hidden-480 center">'+datas[i].productBigKind+datas[i].productSmallKind+'</td>';

                                tr += '<td class="center">'+datas[i].productLevel+'</td>';
                                tr += '<td class="hidden-480 center" >'+datas[i].price+'</td>';
                                tr += '<td class="hidden-480 center" >'+datas[i].storage+'</td>';
                                tr += '<td class="hidden-480 center" >'+datas[i].storage+'</td>';
                                tr += "</tr>";


                                /*
                                var tr = $("<tr></tr>").appendTo($des);
                                var td1 = $('<td class="center"><label><input type="checkbox" class="ace" /><span class="lbl"></span></label></td>').appendTo(tr);
                                var td2 = $('<td class="center" id="hotelName">'+datas[i].productName+'</td>').appendTo(tr);
                                var td3 = $('<td class="hidden-480 center">'+datas[i].productBigKind+datas[i].productSmallKind+'</td>').appendTo(tr);
                                var td4 = $('<td class=" center">'+datas[i].productLevel+'</td>').appendTo(tr);
                                var td5 = $('<td class=" hidden-480 center">'+datas[i].price+'</td>').appendTo(tr);
                                var td6 = $('<td class=" hidden-480 center">'+datas[i].storage+'</td>').appendTo(tr);

                                var td7 = $('<td class="center"><div class="visible-md visible-lg visible-sm  action-buttons"><a  class="btn btn-xs btn-info"  role="button" href="editproduct.php?id='+datas[i].id+'" id="edit'+datas[i].id+'"><i class="icon-remove bigger-120">修改</i></a>  <a  class="btn btn-xs btn-warning"  role="button" id="delete'+datas[i].id+'"  onclick="deleteProduct('+datas[i].id+');"><i class="icon-remove bigger-120"  >删除</i></a></div></td>').appendTo(tr);
                                */
                                $("#sample-table-2 tbody").append(tr);

                            }


                            $("#sample-table-2").DataTable();
                        }
            },
            error: function(code,message,data) {
                alert("发生错误："+message);
            }
        });
</script>>
</html>